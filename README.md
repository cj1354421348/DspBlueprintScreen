# DSP 蓝图筛选器

<p align="center">
  <strong>⚡ 戴森球计划蓝图本地管理工具</strong>
</p>

一款帮助你快速筛选、管理和导出《戴森球计划》蓝图的桌面应用程序。

## ✨ 功能特色

- 🔍 **智能筛选** — 按配方、建筑类型、建筑数量精准筛选蓝图
- 📦 **批量导出** — 一键导出符合条件的蓝图到指定目录
- 🎯 **多条件组合** — 同时设置"必须包含"和"不能包含"的条件
- ⚡ **离线运行** — 完全本地化运行，不需要网络连接
- 🔄 **数据缓存** — 首次扫描后自动缓存，再次启动秒开

---

## 📥 下载安装

前往 [Releases](https://github.com/你的用户名/DspBlueprintScreen/releases) 页面下载最新的安装包 (`DSQ Setup x.x.x.exe`)，双击运行即可完成安装。

---

## 🚀 快速开始

### 1️⃣ 首次配置

首次打开应用时，会弹出设置引导，需要配置以下三个路径：

| 配置项 | 说明 |
|--------|------|
| **蓝图源文件路径** | 存放你所有蓝图文件 (`.txt`) 的文件夹 |
| **蓝图暂存文件路径** | 用于缓存解析数据的临时目录 |
| **蓝图输出文件路径** | 筛选后导出蓝图的目标位置 |

> 💡 **提示**：蓝图源文件路径通常是游戏存档目录下的蓝图文件夹。

点击顶栏右侧的 ⚙️ 按钮可以随时修改这些设置。

### 2️⃣ 初始化蓝图

1. 点击顶栏的 **「重新初始化」** 按钮
2. 等待程序扫描并解析所有蓝图（首次可能需要较长时间）
3. 完成后顶栏会显示蓝图总数

> ⚠️ **注意**：当你添加了新蓝图或蓝图有变动时，需要重新初始化。

### 3️⃣ 设置筛选条件

左侧筛选面板提供了多种筛选方式：

#### 📊 建筑数量限制
输入最大建筑数量，只保留建筑数不超过该值的蓝图。设置为 `0` 表示不限制。

#### ✅ 包含条件
展开"包含"面板，点击选中的物品图标。筛选结果将只显示**包含所有选中配方**的蓝图。

#### ❌ 不包含条件
展开"不包含"面板，点击选中的物品图标。筛选结果将**排除包含任意选中配方**的蓝图。

#### 🏗️ 铺设建筑
展开"铺设建筑"面板，选择必须铺设的建筑类型。

> 💡 **提示**：可以使用顶部搜索框快速查找物品。

### 4️⃣ 执行筛选

点击 **「筛选蓝图」** 按钮，右侧主区域会显示符合条件的蓝图列表。

### 5️⃣ 导出蓝图

有两种导出方式：

- **选择性导出**：在结果列表中勾选需要的蓝图，再点击 **「导出」**
- **全部导出**：不勾选任何蓝图，直接点击 **「导出」** 会导出所有筛选结果

导出的蓝图会复制到你设置的"输出文件路径"中。

### 6️⃣ 清空选择

点击 **「清空选择」** 按钮可以重置所有筛选条件和结果。

---

## 📖 使用示例

### 示例 1：查找小型蓝图

> 需求：找到建筑数量在 500 以内的蓝图

1. 在"建筑数量限制"中输入 `500`
2. 点击「筛选蓝图」

### 示例 2：查找特定产线

> 需求：找到包含"反物质燃料棒"配方的蓝图

1. 展开"包含"面板
2. 搜索"反物质"，点击选中该物品
3. 点击「筛选蓝图」

### 示例 3：排除特定建筑

> 需求：找到不使用"增产剂"相关配方的蓝图

1. 展开"不包含"面板  
2. 搜索并选中所有增产剂相关物品
3. 点击「筛选蓝图」

---

## ❓ 常见问题

### Q: 蓝图源文件路径在哪？

《戴森球计划》默认的蓝图存放位置：
```
%USERPROFILE%\Documents\Dyson Sphere Program\Blueprint
```
或者你导出蓝图的自定义目录。

### Q: 初始化很慢怎么办？

蓝图数量越多，初始化时间越长。建议：
- 首次初始化时耐心等待
- 后续启动会自动加载缓存，速度会快很多

### Q: 修改了蓝图后需要重新初始化吗？

是的。如果你添加、删除或修改了蓝图文件，需要点击「重新初始化」更新数据。

---

## ‍💻 开发者

如果你希望参与开发或了解项目架构，请查阅 [开发者指南 (CONTRIBUTING.md)](./CONTRIBUTING.md)。

---

## 🙏 致谢

本项目的蓝图解析逻辑参考了以下开源项目：

- [dsp_blueprint_editor](https://github.com/huww98/dsp_blueprint_editor) — 戴森球计划蓝图编辑器

感谢原作者的开源贡献！

---

## 📜 许可证

本项目仅供个人学习和使用。

---

<p align="center">
  Made with ❤️ for DSP players
</p>
